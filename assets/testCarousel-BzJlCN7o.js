import{i as re,b as oe,m as le,c as ue,d as te,e as ce,f as fe,h as me,k as he,s as pe,p as de,V as ge,l as ye,n as xe,S as Ae,o as Se,v as N,q as ve,t as Ee,w as $e,r as be,x as Ve,j as d,y as je,z as Me,A as Te}from"./index-__eXc5My.js";const we=(t,e,n)=>{const s=e-t;return((n-t)%s+s)%s+t};function ne(t,e){return re(t)?t[we(0,t.length,e)]:t}class De{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e){const n=this.animations.map(s=>s.attachTimeline(e));return()=>{n.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ie extends De{then(e,n){return this.finished.finally(e).then(()=>{})}}function C(t){return typeof t=="object"&&!Array.isArray(t)}function se(t,e,n,s){return typeof t=="string"&&C(e)?oe(t,n,s):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function Oe(t,e,n){return t*(e+1)}function U(t,e,n,s){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:s.get(e)??t}function ke(t,e,n){for(let s=0;s<t.length;s++){const a=t[s];a.at>e&&a.at<n&&(ue(t,a),s--)}}function Ge(t,e,n,s,a,o){ke(t,a,o);for(let i=0;i<e.length;i++)t.push({value:e[i],at:le(a,o,s[i]),easing:ne(n,i)})}function Ke(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function Fe(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Le="easeInOut";function Ne(t,{defaultTransition:e={},...n}={},s,a){const o=e.duration||.3,i=new Map,m=new Map,$={},b=new Map;let M=0,l=0,G=0;for(let V=0;V<t.length;V++){const h=t[V];if(typeof h=="string"){b.set(h,l);continue}else if(!Array.isArray(h)){b.set(h.name,U(l,h.at,M,b));continue}let[E,p,u={}]=h;u.at!==void 0&&(l=U(l,u.at,M,b));let c=0;const j=(g,y,S,T=0,w=0)=>{const r=Be(g),{delay:B=0,times:x=ce(r),type:R="keyframes",repeat:K,repeatType:et,repeatDelay:tt=0,...ie}=y;let{ease:v=e.ease||"easeOut",duration:A}=y;const W=typeof B=="function"?B(T,w):B,_=r.length,q=he(R)?R:a==null?void 0:a[R];if(_<=2&&q){let D=100;if(_===2&&ze(r)){const I=r[1]-r[0];D=Math.abs(I)}const F={...ie};A!==void 0&&(F.duration=pe(A));const L=fe(F,D,q);v=L.ease,A=L.duration}A??(A=o);const H=l+W;x.length===1&&x[0]===0&&(x[1]=1);const J=x.length-r.length;if(J>0&&me(x,J),r.length===1&&r.unshift(null),K){A=Oe(A,K);const D=[...r],F=[...x];v=Array.isArray(v)?[...v]:[v];const L=[...v];for(let I=0;I<K;I++){r.push(...D);for(let O=0;O<D.length;O++)x.push(F[O]+(I+1)),v.push(O===0?"linear":ne(L,O-1))}Ke(x,K)}const Q=H+A;Ge(S,r,v,x,H,Q),c=Math.max(W+A,c),G=Math.max(Q,G)};if(te(E)){const g=Y(E,m);j(p,u,Z("default",g))}else{const g=se(E,p,s,$),y=g.length;for(let S=0;S<y;S++){p=p,u=u;const T=g[S],w=Y(T,m);for(const r in p)j(p[r],Re(u,r),Z(r,w),S,y)}}M=l,l+=c}return m.forEach((V,h)=>{for(const E in V){const p=V[E];p.sort(Fe);const u=[],c=[],j=[];for(let y=0;y<p.length;y++){const{at:S,value:T,easing:w}=p[y];u.push(T),c.push(de(0,G,S)),j.push(w||"easeOut")}c[0]!==0&&(c.unshift(0),u.unshift(u[0]),j.unshift(Le)),c[c.length-1]!==1&&(c.push(1),u.push(null)),i.has(h)||i.set(h,{keyframes:{},transition:{}});const g=i.get(h);g.keyframes[E]=u,g.transition[E]={...e,duration:G,ease:j,times:c,...n}}}),i}function Y(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function Z(t,e){return e[t]||(e[t]=[]),e[t]}function Be(t){return Array.isArray(t)?t:[t]}function Re(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const Pe=t=>typeof t=="number",ze=t=>t.every(Pe);function Ce(t,e){return t in e}class We extends ge{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(Ce(n,e)){const s=e[n];if(typeof s=="string"||typeof s=="number")return s}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return ye()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function _e(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=xe(t)?new Ae(e):new Se(e);n.mount(t),N.set(t,n)}function qe(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new We(e);n.mount(t),N.set(t,n)}function He(t,e){return te(t)||typeof t=="number"||typeof t=="string"&&!C(e)}function ae(t,e,n,s){const a=[];if(He(t,e))a.push(ve(t,C(e)&&e.default||e,n&&(n.default||n)));else{const o=se(t,e,s),i=o.length;for(let m=0;m<i;m++){const $=o[m],b=$ instanceof Element?_e:qe;N.has($)||b($);const M=N.get($),l={...n};"delay"in l&&typeof l.delay=="function"&&(l.delay=l.delay(m,i)),a.push(...Ee(M,{...e,transition:l},{}))}}return a}function Je(t,e,n){const s=[];return Ne(t,e,n,{spring:$e}).forEach(({keyframes:o,transition:i},m)=>{s.push(...ae(m,o,i))}),s}function Qe(t){return Array.isArray(t)&&t.some(Array.isArray)}function Ue(t){function e(n,s,a){let o=[];return Qe(n)?o=Je(n,s,t):o=ae(n,s,a,t),new Ie(o)}return e}const P=Ue();function st(){const t=be.useRef(null),{scrollXProgress:e}=Ve({container:t}),n=Ze(e);return d.jsxs("div",{id:"example",children:[d.jsxs(je.ul,{ref:t,style:{maskImage:n},children:[d.jsx("li",{style:{background:"#ff0088"}}),d.jsx("li",{style:{background:"#dd00ee"}}),d.jsx("li",{style:{background:"#9911ff"}}),d.jsx("li",{style:{background:"#0d63f8"}}),d.jsx("li",{style:{background:"#0cdcf7"}}),d.jsx("li",{style:{background:"#8df0cc"}})]}),d.jsx(Xe,{})]})}const X="0%",Ye="100%",ee="20%",z="80%",k="#0000",f="#000";function Ze(t){const e=Me(`linear-gradient(90deg, ${f}, ${f} ${X}, ${f} ${z}, ${k})`);return Te(t,"change",n=>{n===0?P(e,`linear-gradient(90deg, ${f}, ${f} ${X}, ${f} ${z}, ${k})`):n===1?P(e,`linear-gradient(90deg, ${k}, ${f} ${ee}, ${f} ${Ye}, ${f})`):(t.getPrevious()===0||t.getPrevious()===1)&&P(e,`linear-gradient(90deg, ${k}, ${f} ${ee}, ${f} ${z}, ${k})`)}),e}function Xe(){return d.jsx("style",{children:`
            #example {
              width: 100vw;
              max-width: 400px;
              position: relative;
            }
          

            #example ul {
                display: flex;
                list-style: none;
                height: 220px;
                overflow-x: scroll;
                padding: 20px 0;
                flex: 0 0 600px;
                margin: 0 auto;
                gap: 20px;
            }

          

            #example li {
                flex: 0 0 200px;
                background: var(--accent);
            }

    `})}export{st as default};
